import{r as v,A as N,u as b,a as y,b as w,Q as p,i as k,j as e,W as S,L as E,o as C,l as L,c as A}from"./index-187f8b77.js";import{I as d}from"./Input-f6eb5d68.js";import{B}from"./Button-816b9e9d.js";function P(){var i,l;const{setIsAuthenticated:h,setProfile:g}=v.useContext(N),x=b(),{register:n,setError:u,handleSubmit:j,formState:{errors:o}}=y({resolver:C(L)}),a=w({mutationFn:r=>A.login(r)}),f=j(r=>{a.mutate(r,{onSuccess:s=>{h(!0),g(s.data.data.user),p.success(`${s.data.message}`,{autoClose:1300,position:"top-center"}),x("/")},onError:s=>{var c;if(k(s)){const t=(c=s.response)==null?void 0:c.data.data;for(let m in t)u(m,{message:t[m],type:"Sever"});p.error(`${t==null?void 0:t.password}`,{autoClose:7e3,position:"top-center"})}}})});return e.jsxs("div",{className:"bg-orange",children:[e.jsxs(S,{children:[e.jsx("title",{children:"Đăng nhập | Shope"}),e.jsx("meta",{name:"description",content:"Đăng nhập"})]}),e.jsx("div",{className:"container",children:e.jsx("div",{className:"grid grid-cols-1 py-12 lg:grid-cols-5 lg:py-32 lg:pr-10",children:e.jsx("div",{className:"lg:col-span-2 lg:col-start-4",children:e.jsxs("form",{className:"rounded bg-white p-10 shadow-sm",onSubmit:f,noValidate:!0,children:[e.jsx("div",{className:"text-2xl",children:"Đăng nhập"}),e.jsx(d,{name:"email",register:n,type:"email",className:"mt-8",errorMessage:(i=o.email)==null?void 0:i.message,placeholder:"Email"}),e.jsx(d,{name:"password",register:n,type:"password",className:"mt-2",classNameEye:"absolute right-[5px] h-5 w-5 cursor-pointer top-[12px]",errorMessage:(l=o.password)==null?void 0:l.message,placeholder:"Password",autoComplete:"on"}),e.jsxs("div",{className:"mt-3",children:[e.jsx(B,{type:"submit",className:"flex  w-full items-center justify-center bg-red-500 py-4 px-2 text-sm uppercase text-white hover:bg-red-600",isLoading:a.isLoading,disabled:a.isLoading,children:"Đăng nhập"}),e.jsxs("div",{className:"text-center mt-4",children:["Bằng việc đăng ký bạn đã đồng ý với Shope về",e.jsx("br",{}),e.jsx("a",{href:"https://help.shopee.vn/portal/article/77243",target:"_blank",rel:"noopener noreferrer",className:"text-red-600 m-2",children:"Điều khoản dịch vụ"}),"&",e.jsx("a",{href:"https://help.shopee.vn/portal/article/77244",target:"_blank",rel:"noopener noreferrer",className:"text-red-600 m-2",children:"Chính sách bảo mật"})]})]}),e.jsxs("div",{className:"mt-5 flex items-center justify-center",children:[e.jsx("span",{className:"text-gray-400",children:"Bạn chưa có tài khoản?"}),e.jsx(E,{className:"ml-1 text-red-400",to:"/register",children:"Đăng ký"})]})]})})})})]})}export{P as default};
