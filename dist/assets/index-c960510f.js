import{a as w,b as g,f as N,Q as b,i as j,j as s,o as v,R as y}from"./index-187f8b77.js";import{u as k}from"./user.api-638dc0ef.js";import{B as M}from"./Button-816b9e9d.js";import{I as m}from"./Input-f6eb5d68.js";function I(){var l,i,d;const{register:a,formState:{errors:t},handleSubmit:p,setError:x,reset:u}=w({defaultValues:{password:"",confirm_password:"",new_password:""},resolver:v(y)}),h=g({mutationFn:o=>k.updateProfile(o)}),f=p(o=>{var c;try{const r=N(o,["confirm_password"]);h.mutate(r,{onSuccess:e=>{b.success(e.data.message,{autoClose:800}),u()}})}catch(r){if(j(r)){const e=(c=r.response)==null?void 0:c.data.data;if(e)for(const n in e)x(n,{message:e[n],type:"Sever"})}}});return s.jsxs("div",{className:"rounded-sm bg-white px-2 pb-10 shadow md:px-7 md:pb-20",children:[s.jsxs("div",{className:"border-b border-b-gray-200 py-6",children:[s.jsx("h1",{className:"text-lg font-medium capitalize text-gray-900",children:"Đổi mật khẩu"}),s.jsx("div",{className:"mt-1 text-sm text-gray-700",children:"Quản lý thông tin hồ sơ để bảo mật tài khoản"})]}),s.jsx("form",{className:"mt-8 mr-auto max-w-2xl",onSubmit:f,children:s.jsxs("div",{className:"mt-6 flex-grow md:mt-0 md:pr-12",children:[s.jsxs("div",{className:"mt-2 flex flex-col flex-wrap sm:flex-row",children:[s.jsx("div",{className:"truncate pt-3 capitalize sm:w-[20%] sm:text-right",children:"Mật khẩu cũ"}),s.jsx("div",{className:"sm:w-[80%] sm:pl-5",children:s.jsx(m,{classNameInput:"w-full rounded-sm border border-gray-300 px-3 py-2 outline-none focus:border-gray-500 focus:shadow-sm",className:"relative ",register:a,name:"password",type:"password",placeholder:"Mật khẩu cũ",errorMessage:(l=t.password)==null?void 0:l.message})})]}),s.jsxs("div",{className:"mt-2 flex flex-col flex-wrap sm:flex-row",children:[s.jsx("div",{className:"truncate pt-3 capitalize sm:w-[20%] sm:text-right",children:"Mật khẩu mới"}),s.jsx("div",{className:"sm:w-[80%] sm:pl-5",children:s.jsx(m,{classNameInput:"w-full rounded-sm border border-gray-300 px-3 py-2 outline-none focus:border-gray-500 focus:shadow-sm",className:"relative ",register:a,name:"new_password",type:"password",placeholder:"Mật khẩu mới",errorMessage:(i=t.new_password)==null?void 0:i.message})})]}),s.jsxs("div",{className:"mt-2 flex flex-col flex-wrap sm:flex-row",children:[s.jsx("div",{className:"truncate pt-3 capitalize sm:w-[20%] sm:text-right",children:"Nhập lại mật khẩu"}),s.jsx("div",{className:"sm:w-[80%] sm:pl-5",children:s.jsx(m,{classNameInput:"w-full rounded-sm border border-gray-300 px-3 py-2 outline-none focus:border-gray-500 focus:shadow-sm",className:"relative ",register:a,name:"confirm_password",type:"password",placeholder:"Nhập lại mật khẩu",errorMessage:(d=t.confirm_password)==null?void 0:d.message})})]}),s.jsxs("div",{className:"mt-2 flex flex-col flex-wrap sm:flex-row",children:[s.jsx("div",{className:"truncate pt-3 capitalize sm:w-[20%] sm:text-right"}),s.jsx("div",{className:"sm:w-[80%] sm:pl-5",children:s.jsx(M,{className:"flex h-9 items-center rounded-sm bg-orange px-5 text-center text-sm text-white hover:bg-orange/80",type:"submit",children:"Lưu"})})]})]})})]})}export{I as default};
