import{r as v,A as b,u as w,a as y,b as k,f as E,i as S,Q as A,j as e,W as C,L,o as M,z as _,c as B}from"./index-187f8b77.js";import{I as i}from"./Input-f6eb5d68.js";import{B as I}from"./Button-816b9e9d.js";function z(){var l,c,m;const{setIsAuthenticated:h,setProfile:x}=v.useContext(b),g=w(),{register:r,handleSubmit:u,setError:j,formState:{errors:a}}=y({resolver:M(_)}),o=k({mutationFn:n=>B.registerAccount(n)}),f=u(n=>{const N=E(n,["confirm_password"]);o.mutate(N,{onSuccess:t=>{h(!0),x(t.data.data.user),g("/")},onError:t=>{var d;if(S(t)){const s=(d=t.response)==null?void 0:d.data.data;for(let p in s)j(p,{message:s[p],type:"Sever"});A.error(`${s==null?void 0:s.password}`,{autoClose:7e3,position:"top-center"})}}})});return e.jsxs("div",{className:"bg-orange",children:[e.jsxs(C,{children:[e.jsx("title",{children:"Đăng ký | Shop"}),e.jsx("meta",{name:"description",content:"Đăng ký"})]}),e.jsx("div",{className:"container",children:e.jsx("div",{className:"grid grid-cols-1 py-12 lg:grid-cols-5 lg:py-32 lg:pr-10",children:e.jsx("div",{className:"lg:col-span-2 lg:col-start-4",children:e.jsxs("form",{className:"rounded bg-white p-10 shadow-sm",onSubmit:f,noValidate:!0,children:[e.jsx("div",{className:"text-2xl",children:"Đăng ký"}),e.jsx(i,{name:"email",register:r,type:"email",className:"mt-8",errorMessage:(l=a.email)==null?void 0:l.message,placeholder:"Email"}),e.jsx(i,{name:"password",register:r,type:"password",className:"mt-2",classNameEye:"absolute right-[5px] h-5 w-5 cursor-pointer top-[12px]",errorMessage:(c=a.password)==null?void 0:c.message,placeholder:"Password",autoComplete:"on"}),e.jsx(i,{name:"confirm_password",register:r,type:"password",className:"mt-2",classNameEye:"absolute right-[5px] h-5 w-5 cursor-pointer top-[12px]",errorMessage:(m=a.confirm_password)==null?void 0:m.message,placeholder:"Confirm Password",autoComplete:"on"}),e.jsx("div",{className:"mt-2",children:e.jsx(I,{className:"flex w-full items-center justify-center bg-red-500 py-4 px-2 text-sm uppercase text-white hover:bg-red-600",isLoading:o.isLoading,disabled:o.isLoading,children:"Đăng ký"})}),e.jsxs("div",{className:"text-center mt-4",children:["Bằng việc đăng ký bạn đã đồng ý với Shope về",e.jsx("br",{}),e.jsx("a",{href:"https://help.shopee.vn/portal/article/77243",target:"_blank",rel:"noopener noreferrer",className:"text-red-600 m-2",children:"Điều khoản dịch vụ"}),"&",e.jsx("a",{href:"https://help.shopee.vn/portal/article/77244",target:"_blank",rel:"noopener noreferrer",className:"text-red-600 m-2",children:"Chính sách bảo mật"})]}),e.jsxs("div",{className:"mt-5 flex items-center justify-center",children:[e.jsx("span",{className:"text-gray-400",children:"Bạn đã có tài khoản?"}),e.jsx(L,{className:"ml-1 text-red-400",to:"/login",children:"Đăng nhập"})]})]})})})})]})}export{z as default};
